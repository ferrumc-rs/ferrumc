[package]
name = "ferrumc"
description = "A high-performance Minecraft server implementation, crafted in Rust for unparalleled speed and efficiency."
version = "0.1.0"
edition = "2021"

[dependencies]
# --- Layer 1: Primitives ---
ferrumc-core = { workspace = true }
ferrumc-utils = { workspace = true }
ferrumc-config = { workspace = true }
ferrumc-logging = { workspace = true }
ferrumc-macros = { workspace = true }
ferrumc-general-purpose = { workspace = true }
ferrumc-threadpool = { workspace = true }
ferrumc-text = { workspace = true }            # Needed for disconnect messages/setup

# --- Layer 2: Engine State ---
ferrumc-ecs = { workspace = true }
ferrumc-registry = { workspace = true } # Needed for init()

# --- Layer 3: Interfaces ---
ferrumc-protocol = { workspace = true }

# --- Layer 4: Infrastructure (I/O) ---
ferrumc-net = { workspace = true }
ferrumc-chunks = { workspace = true }    # Replaces ferrumc-world
ferrumc-storage = { workspace = true }   # Underlying LMDB types
ferrumc-scheduler = { workspace = true }

# --- Layer 5: Game Logic ---
ferrumc-plugins = { workspace = true }          # The main game logic container
ferrumc-commands = { workspace = true }
ferrumc-default-commands = { workspace = true }
ferrumc-world-gen = { workspace = true }

# --- External Dependencies (Binary Specific) ---
# CLI Parsing
clap = { workspace = true, features = ["derive", "env"] }
# Async Runtime
tokio = { workspace = true, features = ["full"] }
# Logging & Tracing
tracing = { workspace = true }
# Error Handling
thiserror = { workspace = true }
# System
ctrlc = { workspace = true } # For graceful shutdown handling
# Profiling (Feature gated)
dhat = { workspace = true }
# Serialization (Config loading)
serde_json = { workspace = true }
# Utils
once_cell = { workspace = true }
crossbeam-channel = { workspace = true }
uuid = { workspace = true }

# REMOVED:
# flate2 - Should be an implementation detail of ferrumc-storage/net
# rand - Should be an implementation detail of ferrumc-world-gen/logic
# ferrumc-world - Renamed to ferrumc-chunks

[features]
dhat = []

[[bin]]
name = "ferrumc"
path = "src/main.rs"
