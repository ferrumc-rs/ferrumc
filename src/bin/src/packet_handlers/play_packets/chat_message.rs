use bevy_ecs::prelude::{EventReader, Res};
use ferrumc_net::ChatMessageReceiver; // This will be generated by the setup_packet_handling macro
use tracing::info;

pub fn handle(events: Res<ChatMessageReceiver>) {
    for (packet, _entity_id) in events.0.try_iter() {
        info!("[CHAT] Received message: {}", packet.message);
        // Here you can add custom logic, e.g.:
        // if packet.message.starts_with("xx_spawn_entity") {
        //     // Logic to spawn an entity
        // }
    }
}
